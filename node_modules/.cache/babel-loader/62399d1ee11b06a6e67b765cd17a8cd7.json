{"ast":null,"code":"var _jsxFileName = \"/home/ya_myn/dev/practice/react/goit-react-hw-03-phonebook/src/components/App/App.js\";\nimport React, { Component } from 'react';\nimport shortid from 'shortid';\nimport styles from './App.module.css';\nimport Section from '../Section/Section';\nimport Notification from '../Notification/Notification';\nimport ContactsList from '../ContactsList/ContactsList';\nimport Filter from '../Filter/Filter';\nimport CreateContactForm from '../CreateContactForm/CreateContactForm';\n\nconst filterContacts = (contacts, filter) => {\n  return contacts.filter(contact => contact.name.toLowerCase().includes(filter.toLowerCase()));\n};\n\nexport default class App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      contacts: [],\n      filter: ''\n    };\n\n    this.changeFilter = event => {\n      this.setState({\n        filter: event.target.value\n      });\n    };\n\n    this.addContact = contact => {\n      const isUniqueName = this.state.contacts.some(savedContact => savedContact.name.toLowerCase() === contact.name.toLowerCase());\n\n      if (isUniqueName) {\n        return alert(`${contact.name} is already in contacts`);\n      }\n\n      const contactToAdd = { ...contact,\n        id: shortid.generate()\n      };\n      this.setState(state => ({\n        contacts: [...state.contacts, contactToAdd]\n      }));\n    };\n\n    this.deleteContact = id => {\n      this.setState(state => ({\n        contacts: state.contacts.filter(contact => contact.id !== id)\n      }));\n    };\n  }\n\n  componentDidMount() {\n    const savedContacts = localStorage.getItem('contacts');\n\n    if (savedContacts) {\n      this.setState({\n        contacts: JSON.parse(savedContacts)\n      });\n    }\n\n    return;\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.contacts !== this.state.contacts) {\n      localStorage.setItem('contacts', JSON.stringify(this.state.contacts));\n    }\n  }\n\n  render() {\n    const {\n      contacts,\n      filter\n    } = this.state;\n    const filteredContacts = filterContacts(contacts, filter);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.container,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, \"goit-react-hw-03-phonebook\"), /*#__PURE__*/React.createElement(Section, {\n      title: \"Phonebook\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(CreateContactForm, {\n      onAddContact: this.addContact,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Section, {\n      title: \"Contacts\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, this.state.contacts.length > 2 && /*#__PURE__*/React.createElement(Filter, {\n      value: filter,\n      onChangeFilter: this.changeFilter,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 25\n      }\n    }), filteredContacts.length > 0 ? /*#__PURE__*/React.createElement(ContactsList, {\n      contacts: filteredContacts,\n      onDeleteContact: this.deleteContact,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 25\n      }\n    }) : /*#__PURE__*/React.createElement(Notification, {\n      message: \"Contacts for query not found\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 25\n      }\n    })));\n  }\n\n}","map":{"version":3,"sources":["/home/ya_myn/dev/practice/react/goit-react-hw-03-phonebook/src/components/App/App.js"],"names":["React","Component","shortid","styles","Section","Notification","ContactsList","Filter","CreateContactForm","filterContacts","contacts","filter","contact","name","toLowerCase","includes","App","state","changeFilter","event","setState","target","value","addContact","isUniqueName","some","savedContact","alert","contactToAdd","id","generate","deleteContact","componentDidMount","savedContacts","localStorage","getItem","JSON","parse","componentDidUpdate","prevProps","prevState","setItem","stringify","render","filteredContacts","container","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport shortid from 'shortid';\n\nimport styles from './App.module.css';\n\nimport Section from '../Section/Section';\nimport Notification from '../Notification/Notification';\nimport ContactsList from '../ContactsList/ContactsList';\nimport Filter from '../Filter/Filter';\nimport CreateContactForm from '../CreateContactForm/CreateContactForm';\n\nconst filterContacts = (contacts, filter) => {\n    return contacts.filter((contact) =>\n        contact.name.toLowerCase().includes(filter.toLowerCase()),\n    );\n};\n\nexport default class App extends Component {\n    state = {\n        contacts: [],\n        filter: '',\n    };\n\n    componentDidMount() {\n        const savedContacts = localStorage.getItem('contacts');\n\n        if (savedContacts) {\n            this.setState({ contacts: JSON.parse(savedContacts) });\n        }\n        return;\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevState.contacts !== this.state.contacts) {\n            localStorage.setItem(\n                'contacts',\n                JSON.stringify(this.state.contacts),\n            );\n        }\n    }\n\n    changeFilter = (event) => {\n        this.setState({ filter: event.target.value });\n    };\n\n    addContact = (contact) => {\n        const isUniqueName = this.state.contacts.some(\n            (savedContact) =>\n                savedContact.name.toLowerCase() === contact.name.toLowerCase(),\n        );\n\n        if (isUniqueName) {\n            return alert(`${contact.name} is already in contacts`);\n        }\n        const contactToAdd = {\n            ...contact,\n            id: shortid.generate(),\n        };\n        this.setState((state) => ({\n            contacts: [...state.contacts, contactToAdd],\n        }));\n    };\n\n    deleteContact = (id) => {\n        this.setState((state) => ({\n            contacts: state.contacts.filter((contact) => contact.id !== id),\n        }));\n    };\n\n    render() {\n        const { contacts, filter } = this.state;\n        const filteredContacts = filterContacts(contacts, filter);\n\n        return (\n            <div className={styles.container}>\n                <h1>goit-react-hw-03-phonebook</h1>\n                <Section title='Phonebook'>\n                    <CreateContactForm onAddContact={this.addContact} />\n                </Section>\n                <Section title='Contacts'>\n                    {this.state.contacts.length > 2 && (\n                        <Filter\n                            value={filter}\n                            onChangeFilter={this.changeFilter}\n                        />\n                    )}\n                    {filteredContacts.length > 0 ? (\n                        <ContactsList\n                            contacts={filteredContacts}\n                            onDeleteContact={this.deleteContact}\n                        />\n                    ) : (\n                        <Notification message='Contacts for query not found' />\n                    )}\n                </Section>\n            </div>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}